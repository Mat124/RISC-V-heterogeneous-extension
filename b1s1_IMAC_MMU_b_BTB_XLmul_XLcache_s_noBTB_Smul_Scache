if [ -s patches/ethernet.patch ] ; then cd ethernet/verilog-ethernet && ( git apply -R --check ../../patches/ethernet.patch 2>/dev/null || git apply ../../patches/ethernet.patch ) ; fi
if [ -s patches/rocket-chip.patch ] ; then cd rocket-chip && ( git apply -R --check ../patches/rocket-chip.patch 2>/dev/null || git apply ../patches/rocket-chip.patch ) ; fi
if [ -s patches/riscv-boom.patch ] ; then cd generators/riscv-boom && ( git apply -R --check ../../patches/riscv-boom.patch 2>/dev/null || git apply ../../patches/riscv-boom.patch ) ; fi
if [ -s patches/sifive-cache.patch ] ; then cd generators/sifive-cache && ( git apply -R --check ../../patches/sifive-cache.patch 2>/dev/null || git apply ../../patches/sifive-cache.patch ) ; fi
if [ -s patches/gemmini.patch ] ; then cd generators/gemmini && ( git apply -R --check ../../patches/gemmini.patch 2>/dev/null || git apply ../../patches/gemmini.patch ) ; fi
mkdir -p workspace/rocket64customb1s1/tmp
cp rocket-chip/bootrom/bootrom.img workspace/bootrom.img
java -Xmx12G -Xss8M  -Dsbt.io.virtual=false -Dsbt.server.autostart=false -jar /home/mat/GitHub/RISC-V-heterogeneous-extension/rocket-chip/sbt-launch.jar "runMain freechips.rocketchip.system.Generator -td workspace/rocket64customb1s1/tmp -T Vivado.RocketSystem -C Vivado.Rocket64customb1s1"
[info] welcome to sbt 1.3.13 (Ubuntu Java 11.0.18)
[info] loading settings for project risc-v-heterogeneous-extension-build from plugins.sbt ...
[info] loading project definition from /home/mat/GitHub/RISC-V-heterogeneous-extension/project
[info] loading settings for project vivado from build.sbt ...
[info] loading settings for project targetutils from build.sbt ...
[info] loading settings for project gemmini from build.sbt ...
[info] loading settings for project boom from build.sbt ...
[info] loading settings for project testchipip from build.sbt ...
[info] loading settings for project rocketchip from build.sbt ...
[info] loading settings for project hardfloat from build.sbt ...
[info] loading settings for project api-config-chipsalliance from build.sbt ...
[info] resolving key references (10385 settings) ...
Using addons: 
[info] set current project to vivado (in build file:/home/mat/GitHub/RISC-V-heterogeneous-extension/)
[warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings.
[warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings.
[warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings.
[info] Compiling 1 Scala source to /home/mat/GitHub/RISC-V-heterogeneous-extension/rocket-chip/target/scala-2.12/classes ...
[error] /home/mat/GitHub/RISC-V-heterogeneous-extension/rocket-chip/src/main/scala/subsystem/Configs.scala:120:22: type mismatch;
[error]  found   : freechips.rocketchip.rocket.BTBParams
[error]  required: Option[freechips.rocketchip.rocket.BTBParams]
[error]       btb = BTBParams(
[error]                      ^
[error] one error found
[error] (rocketchip / Compile / compileIncremental) Compilation failed
[error] Total time: 5 s, completed 7 Mar 2023, 13:56:51
